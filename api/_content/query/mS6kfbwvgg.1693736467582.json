{"_path":"/blog/oracle_function_with_return_table","_dir":"blog","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Write a function in oracle","description":"How to write function ton return a cursor table in oracle","id":"083020231252pm","updated":null,"created":null,"image":"/content/cover/dns.png","head":{"meta":[{"name":"keywords","content":"oracle, function, cursor, table"},{"name":"robots","content":"index, follow"},{"name":"author","content":"Mahedi Azad"},{"property":"og:type","content":"article"},{"name":"twitter:card","content":"summary_large_image"}]},"tags":["oracle","plsql","function","table"],"series":"Oracle","navOrder":1,"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"table-structure-of-table-table_name"},"children":[{"type":"text","value":"Table structure of table 'table_name'"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"table_id"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"full_name"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"created_at"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"updated_at"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"name-1"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"30/08/2023 12:50:00PM"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"null"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"name-2"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"30/08/2023 12:50:00PM"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"30/08/2023 01:50:20PM"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"function-example"},"children":[{"type":"text","value":"Function example"}]},{"type":"element","tag":"code","props":{"className":["language-oraclesqlplus"],"code":" FUNCTION function_name (p_date_from     IN DATE)\n      RETURN SYS_REFCURSOR\n   AS\n      c_data   SYS_REFCURSOR;\n      v_date_from        DATE;\n   BEGIN\n      OPEN c_data FOR\n        SELECT ROWNUM AS sl, * \n        FROM table_name  \n        WHERE created_at between trunc(p_date_from) and sysdate;\n      RETURN c_data;\n      CLOSE c_data;\n   END function_name;;\n","language":"oraclesqlplus","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":" FUNCTION function_name (p_date_from     IN DATE)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      RETURN SYS_REFCURSOR\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"   AS\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      c_data   SYS_REFCURSOR;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      v_date_from        DATE;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"   BEGIN\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      OPEN c_data FOR\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        SELECT ROWNUM AS sl, * \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        FROM table_name  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        WHERE created_at between trunc(p_date_from) and sysdate;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      RETURN c_data;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      CLOSE c_data;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"   END function_name;;"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"referances"},"children":[{"type":"text","value":"Referances"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.oracletutorial.com/plsql-tutorial/plsql-cursor-variables/","rel":["nofollow"]},"children":[{"type":"text","value":"oracletutorial.com"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":1,"links":[{"id":"table-structure-of-table-table_name","depth":2,"text":"Table structure of table 'table_name'"},{"id":"function-example","depth":2,"text":"Function example"}]}},"_type":"markdown","_id":"content:blog:oracle_function_with_return_table.md","_source":"content","_file":"blog/oracle_function_with_return_table.md","_extension":"md"}